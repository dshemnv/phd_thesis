\documentclass{standalone}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{eulervm}
\usepackage{pgfplots}

\newcommand{\R}{\textsuperscript{\textregistered}}
\newcommand{\TM}{\textsuperscript{\texttrademark}}

\pgfplotsset{compat=newest}
\input{colors}
\usetikzlibrary{patterns}

\pagestyle{empty}
\def\ofast{{\fontfamily{qcr}\selectfont-Ofast}}

\tikzset{
    hatch distance/.store in=\hatchdistance,
    hatch distance=7pt,
    hatch thickness/.store in=\hatchthickness,
    hatch thickness=0.5pt
}

\makeatletter
\pgfdeclarepatternformonly[\hatchdistance,\hatchthickness]{flexible hatch north east}
{\pgfqpoint{0pt}{0pt}}
{\pgfqpoint{\hatchdistance}{\hatchdistance}}
{\pgfpoint{\hatchdistance-1pt}{\hatchdistance-1pt}}%
{
    \pgfsetcolor{\tikz@pattern@color}
    \pgfsetlinewidth{\hatchthickness}
    \pgfpathmoveto{\pgfqpoint{0pt}{0pt}}
    \pgfpathlineto{\pgfqpoint{\hatchdistance}{\hatchdistance}}
    \pgfusepath{stroke}
}
\makeatletter
\pgfdeclarepatternformonly[\hatchdistance,\hatchthickness]{flexible hatch north west}
{\pgfqpoint{0pt}{0pt}}
{\pgfqpoint{\hatchdistance}{\hatchdistance}}
{\pgfpoint{\hatchdistance-1pt}{\hatchdistance-1pt}}%
{
    \pgfsetcolor{\tikz@pattern@color}
    \pgfsetlinewidth{\hatchthickness}
    \pgfpathmoveto{\pgfqpoint{\hatchdistance}{0pt}}
    \pgfpathlineto{\pgfqpoint{0pt}{\hatchdistance}}
    \pgfusepath{stroke}
}
\makeatother


\begin{document}
\begin{tikzpicture}
\begin{axis}[
    ybar,
    width=1.0\linewidth, height=0.7\linewidth,
    xticklabel style={gray}, yticklabel style={gray},
    bar width=10pt,
    legend style={at={(0.1,0.90)},
      anchor=north west,legend columns=1},
    legend cell align=right,
    area legend,
    ymajorgrids,
    grid style={dashed, gray!30},
    ylabel={$\mu$ Joules / bit},
    symbolic x coords={E-MPA+SIMD,MPA+SIMD,Log-MPA(\ofast),Log-MPA,MPA(\ofast),MPA},
    xticklabel style={align=center},
    xticklabels={E-MPA\\+SIMD, MPA\\+SIMD, Log-MPA\\(\ofast), Log-MPA, MPA\\(\ofast), MPA},
    xtick=data,
    ymin=0,
    ymax=13,
	nodes near coords,
    nodes near coords align={vertical},
    every node near coord/.append style={rotate=90, anchor=west},
    ]
\addplot[black!25!Paired-5,fill=Paired-5!40,
         draw=Paired-5,
        postaction={pattern color = black!50!Paired-5!70,
                    pattern=flexible hatch north east}
        ]
        coordinates {(E-MPA+SIMD,0.662) (MPA+SIMD,0.732) (Log-MPA(\ofast),3.525) (Log-MPA,6.019) (MPA(\ofast),2.489) (MPA,10.251)};
\label{plot1}


\addplot[black!25!Paired-3,
         fill=Paired-3!40,
         draw=Paired-3,
         postaction={pattern color = black!50!Paired-3!70,
                     pattern=horizontal lines}
         ]
         coordinates {(E-MPA+SIMD,1.73) (MPA+SIMD,2.41) (Log-MPA(\ofast),3.45) (Log-MPA,3.45) (MPA(\ofast),5.44) (MPA,5.44)};

\addplot[black!25!Paired-1,fill=Paired-1!40,
        draw=Paired-1,
        postaction={pattern color = black!50!Paired-1!70,
		            pattern=flexible hatch north west}
        ]
        coordinates {(E-MPA+SIMD,0.518) (MPA+SIMD,0.9) (Log-MPA(\ofast),1.457) (Log-MPA,2.325) (MPA(\ofast),1.761) (MPA,4.21)};

\legend{Intel\R Core\TM i7-6700HQ, Intel\R Xeon Phi\TM 7120P, ARM\R Cortex-A57}
\end{axis}
\end{tikzpicture}
\end{document}





