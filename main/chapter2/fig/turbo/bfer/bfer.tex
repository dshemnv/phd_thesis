\documentclass{standalone}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{eulervm}
\usepackage{amsmath}
\usepackage{pgfplots}

\pgfplotsset{compat=newest}
\usepgfplotslibrary{colorbrewer}
\usepgfplotslibrary{groupplots}
\usetikzlibrary{matrix, positioning}

\input{colors}

\begin{document}
  \begin{tikzpicture}
    \begin{groupplot}[/pgfplots/table/ignore chars={|}, %footnotesize,
                      height=0.77\textwidth, width=0.5\textwidth,
                      xticklabel style={gray}, yticklabel style={gray},
                      group style={group name=scl_2048, group size= 2 by 1, horizontal sep=2cm, vertical sep=2.0cm},
                      ymode = log,
                      % ymin=0.000000001, ymax=0.05,
                      xmin=0, xmax=2,
                      xtick={0,0.5,...,4.5}, xlabel=$E_b/N_0~\text{(dB)}$,
                      grid=both, grid style={gray!30},
                      %tick align=outside, tickpos=left,
                      legend pos=north east]
      \nextgroupplot[ylabel=BER]
      \addplot[mark=x,        black,    semithick]                               table [x=SNR, y=BER] {dat/data_6144_32b_float.txt};      \label{plot:line1}
      \addplot[mark=square,   Paired-1, semithick, dashed, mark options={solid}] table [x=SNR, y=BER] {dat/data_6144_16b_fixed_Q6_3.txt}; \label{plot:line2}
      \addplot[mark=o,        Paired-3, semithick, dashed, mark options={solid}] table [x=SNR, y=BER] {dat/data_6144_8b_fixed_Q6_2.txt};  \label{plot:line3}

      % \legend{float (ref.),
      %         int-16 $Q_{6,3}$,
      %         \text{ }int-8 $Q_{6,2}$}

      \coordinate (legend) at (axis description cs:0.98,0.73);

      \nextgroupplot[ylabel=FER]
      \addplot[mark=x,        black,    semithick]                               table [x=SNR, y=FER] {dat/data_6144_32b_float.txt};      \label{plot:line1}
      \addplot[mark=square,   Paired-1, semithick, dashed, mark options={solid}] table [x=SNR, y=FER] {dat/data_6144_16b_fixed_Q6_3.txt}; \label{plot:line2}
      \addplot[mark=o,        Paired-3, semithick, dashed, mark options={solid}] table [x=SNR, y=FER] {dat/data_6144_8b_fixed_Q6_2.txt};  \label{plot:line3}

    \end{groupplot}

    \matrix [
        draw,
        matrix of nodes,
        anchor=south east,
        fill=white
    ] at (legend) {
        \ref{plot:line1} & float  & (ref.)    \\
        \ref{plot:line2} & int-16 & $Q_{6,3}$ \\
        \ref{plot:line3} & int-8  & $Q_{6,2}$ \\
    };

  \end{tikzpicture}
\end{document}
